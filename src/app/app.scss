.app-main {
  padding: 1rem;
  padding-bottom: var(--footer-gap);
  max-width: 1200px;
  margin: 0 auto;
}

/* --- Global Auth Veil (full-screen) --- */
.auth-veil {
  /* Veil accent palette (celeste/azul) */
  --veil-accent: #7dd3fc;       /* celeste */
  --veil-accent-700: #38bdf8;   /* azul */
  position: fixed;
  top: 0; right: 0; bottom: 0; left: 0;
  display: grid;
  place-items: center;
  z-index: 10000;
  pointer-events: auto;
  background: rgba(10, 14, 22, .28);
  -webkit-backdrop-filter: blur(14px) saturate(1.05);
  backdrop-filter: blur(14px) saturate(1.05);
  animation: veilIn .22s ease-out both;
}

@keyframes veilIn { from { opacity: 0 } to { opacity: 1 } }

.auth-veil .veil-card {
  pointer-events: none;
  border-radius: 1rem;
  border: 1px solid rgba(255, 255, 255, .18);
  background: linear-gradient(180deg, rgba(17, 25, 40, .72), rgba(17, 25, 40, .52));
  box-shadow: 0 18px 40px rgba(0, 0, 0, .28), inset 0 1px rgba(255, 255, 255, .06);
  padding: 1.1rem 1.3rem;
  display: grid;
  place-items: center;
  gap: .6rem;
  transform: translateY(6px) scale(.98);
  animation: veilPop .32s cubic-bezier(.25, .6, .3, 1) both;
}

@keyframes veilPop {
  to { transform: translateY(0) scale(1); opacity: 1 }
}

.auth-veil .loader-wrap { position: relative; width: 64px; height: 64px; }
.auth-veil .loader-glow {
  position: absolute; inset: -10px; border-radius: 999px;
  background: radial-gradient(40% 40% at 50% 50%, rgba(56,189,248,.25), transparent 60%);
  filter: blur(6px);
  animation: pulseGlow 1.6s ease-in-out infinite;
}
.auth-veil.mode-logout .loader-glow {
  background: radial-gradient(40% 40% at 50% 50%, rgba(56,189,248,.18), transparent 60%);
}
@keyframes pulseGlow { 0%,100% { opacity:.5 } 50% { opacity: 1 } }
.auth-veil .loader-ring {
  position: absolute; inset: 0; border-radius: 999px;
  background: conic-gradient(var(--veil-accent) 0deg, rgba(255,255,255,.18) 0deg);
  animation: ringSpin .9s linear infinite;
  mask: radial-gradient(circle 28px, #0000 31px, #000 32px);
}
@keyframes ringSpin { to { transform: rotate(360deg) } }

.auth-veil .loader-ring2 {
  position: absolute; inset: 6px; border-radius: 999px;
  background: conic-gradient(from 90deg, rgba(255,255,255,.25) 10%, var(--veil-accent-700) 35%, rgba(255,255,255,.18) 60%);
  animation: ringSpinReverse 1.4s linear infinite;
  mask: radial-gradient(circle 24px, #0000 27px, #000 28px);
  mix-blend-mode: screen;
  opacity: .9;
}
@keyframes ringSpinReverse { to { transform: rotate(-360deg) } }

.auth-veil .loader-core {
  position: absolute; inset: 8px; border-radius: 999px;
  background: rgba(255,255,255,.10);
  border: 1px solid rgba(255,255,255,.18);
}

.auth-veil .loader-check {
  position: absolute; inset: 0; display: grid; place-items: center;
  color: #ffffff; font-weight: 900; font-size: 1.35rem;
  opacity: 0; transform: scale(.9);
  text-shadow: 0 1px 2px rgba(0, 0, 0, .35);
}

.auth-veil.success .loader-ring { animation: none; background: linear-gradient(var(--veil-accent), var(--veil-accent-700)); filter: drop-shadow(0 8px 18px rgba(56,189,248,.28)); }
.auth-veil.success .loader-ring2 { opacity: 0; transition: opacity .18s ease; }
.auth-veil.success .loader-check { opacity: 1; transform: scale(1); transition: opacity .18s ease, transform .18s ease; }

.auth-veil .veil-text { text-align: center; color: var(--text-strong); font-weight: 800; letter-spacing: .2px; }
.auth-veil .veil-text .brand { display: block; font-size: 1rem; }
.auth-veil .veil-text .sub { display: block; margin-top: .15rem; color: #ffffff; font-size: .9rem; text-shadow: 0 1px 2px rgba(0,0,0,.35); }
.auth-veil.success .veil-text .sub { color: #ffffff; }

/* Orbital dots animation inside the ring */
.auth-veil .loader-orbit { position: absolute; inset: 0; }
.auth-veil .loader-orbit .dot,
.auth-veil .loader-orbit .dot-2 {
  position: absolute;
  top: 50%; left: 50%;
  width: 8px; height: 8px;
  border-radius: 999px;
  background: var(--veil-accent-700);
  box-shadow: 0 0 8px rgba(56,189,248,.55);
  transform: translate(-50%, -50%) rotate(0deg) translate(18px) rotate(0deg);
  animation: orbitSpin 1.2s linear infinite;
}

.auth-veil .loader-orbit .dot-2 {
  width: 6px; height: 6px;
  background: var(--veil-accent);
  opacity: .9;
  transform: translate(-50%, -50%) rotate(0deg) translate(12px) rotate(0deg);
  animation: orbitSpin 1.6s linear infinite;
  animation-delay: .2s;
}

@keyframes orbitSpin {
  to { transform: translate(-50%, -50%) rotate(360deg) translate(18px) rotate(-360deg); }
}

/* Modo logout con acentos más sobrios */
.auth-veil.mode-logout { --veil-accent: #5ec7ff; --veil-accent-700: #2998d8; --veil-accent-dim: rgba(41,152,216,.28); }

/* --- Logout specific visuals (segmented spinner) --- */
.auth-veil .loader-logout { position: absolute; inset: 0; }
.auth-veil .logout-segments {
  position: absolute; inset: 0; border-radius: 999px;
  background: repeating-conic-gradient(
      from 0deg,
      var(--veil-accent-700) 0 14deg,
      transparent 14deg 28deg
  );
  animation: ringSpin .9s linear infinite;
  mask: radial-gradient(circle 28px, #0000 31px, #000 32px);
  opacity: .9;
  mix-blend-mode: screen;
}

/* En logout ocultamos los otros adornos para un look más prolijo */
.auth-veil.mode-logout .loader-orbit,
.auth-veil.mode-logout .loader-ring,
.auth-veil.mode-logout .loader-ring2 { display: none; }
